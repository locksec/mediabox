let MediaBox=function(e){if(MediaBox.isInit||(MediaBox.init(),MediaBox.isInit=!0),this.trigger=e,this.href=e.getAttribute("href")||e.dataset.url||null,window.innerWidth<1e3)this.width=.9*window.innerWidth;else{const e=window.innerWidth,o=Math.min(e,1400);this.width=o,1400===this.width?this.height=800:this.height=.6*this.width}const o=e.dataset.closeWithOverlay||1;this.closeWithOverlay=!["0","false"].includes(o);const i=e.dataset.showBtnClose||1;this.showBtnClose=!["0","false"].includes(i),this.href?this.trigger.addEventListener("click",(e=>{e.preventDefault(),this.open()})):console.error("[MediaBox] This element does not contain URL information"),MediaBox.current=this};MediaBox.init=function(){["div","div","div","div","div","div","iframe"].forEach(((e,o)=>{MediaBox[["el","content","body","spinner","overlay","closebtn","frame"][o]]=document.createElement(e)})),MediaBox.frame.setAttribute("allowfullscreen",""),MediaBox.closebtn.innerHTML='<i class="fa fa-times-circle-o" aria-hidden="true"></i>',["mediabox","mbox-overlay","mbox-spinner","mbox-content","mbox-close","mbox-body"].forEach(((e,o)=>{MediaBox[["el","overlay","spinner","content","closebtn","body"][o]].classList.add(e)})),MediaBox.el.append(this.overlay,this.closebtn,this.spinner,this.content),MediaBox.content.appendChild(this.body),MediaBox.body.append(this.frame),document.body.appendChild(this.el),MediaBox.frame.onload=()=>{if(!MediaBox.isOpen())return;MediaBox.spinner.classList.remove("mbox-show"),MediaBox.content.classList.add("mbox-loaded"),MediaBox.current.showBtnClose&&MediaBox.closebtn.classList.add("mbox-show","mbox-open");const e=()=>{MediaBox.closebtn.classList.remove("mbox-show"),["webkitAnimationEnd","mozAnimationEnd","msAnimationEnd","animationend"].forEach((o=>{MediaBox.closebtn.removeEventListener(o,e,!1)}))};["webkitAnimationEnd","mozAnimationEnd","msAnimationEnd","animationend"].forEach((o=>{MediaBox.closebtn.addEventListener(o,e,!1)}))};MediaBox.overlay.addEventListener("click",(()=>{MediaBox.current.closeWithOverlay&&MediaBox.close()})),MediaBox.closebtn.addEventListener("click",(()=>{MediaBox.close()}));const e=()=>{MediaBox.isOpen()||(MediaBox.frame.src="about:blank",MediaBox.el.classList.remove("mbox-show"),MediaBox.closebtn.classList.remove("mbox-show","mbox-open"))};["transitionend","webkitTransitionEnd","mozTransitionEnd","msTransitionEnd"].forEach((o=>{this.el.addEventListener(o,e,!1)})),window.addEventListener("message",(e=>{"mediabox-close-me"===e.data&&MediaBox.close()}),!1)},MediaBox.loadIframe=function(e){MediaBox.spinner.classList.add("mbox-show"),["mbox-loaded","mbox-show","mbox-open"].forEach((e=>{MediaBox[["content","closebtn","closebtn"][["mbox-loaded","mbox-show","mbox-open"].indexOf(e)]].classList.remove(e)})),MediaBox.frame.src=e},MediaBox.prototype.open=function(){MediaBox.setDimensions(this.width,this.height),MediaBox.loadIframe(this.href),MediaBox.el.classList.add("mbox-show"),MediaBox.el.offsetHeight,MediaBox.el.classList.add("mbox-open");const e=this.closeWithOverlay?"add":"remove";MediaBox.overlay.classList[e]("mbox-clickable"),MediaBox.current=this},MediaBox.close=function(){MediaBox.el.classList.remove("mbox-open")},MediaBox.isOpen=function(){return MediaBox.el.classList.contains("mbox-open")},MediaBox.setDimensions=function(e,o){MediaBox.content.style.width=`${e}px`,MediaBox.content.style.height=`${o}px`},document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".mediabox-link").forEach((e=>{e.mediabox=new MediaBox(e)}))}));